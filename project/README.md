## Feedback System — Documentation

## VIDEO REFERENCE -

https://github.com/user-attachments/assets/579fd907-8f6f-41c7-bc25-98146e323f72



## Database Schema
MongoDB with Mongoose. Single collection: `feedback`.

- **Feedback**
  - `name` (String, required, trimmed)
  - `email` (String, required, trimmed)
  - `phone` (String, required, trimmed)
  - `rating` (Number, required, min 1, max 5)
  - `feedback` (String, required, trimmed)
  - `createdAt` (Date, autogenerated)
  - `updatedAt` (Date, autogenerated)

Indexes: default `_id` index; `timestamps` enabled.


## Data Flow Diagram & Project Architecture

### High-Level Data Flow

```
[User] ──fills form──> [React UI]
   │                     │
   │     POST /feedback  │ apiPost('/feedback', body)
   └────────────────────>│
                         ▼
                   [Express API]
                         │ validates body
                         │ uses Mongoose model
                         ▼
                      [MongoDB]

[Admin] ──views table──> [React AdminPanel]
   │                     │
   │    GET /feedback    │ apiGet('/feedback?page=&limit=')
   └────────────────────>│
                         ▼
                   [Express API] ──> [MongoDB] ──> returns paginated list
```

### Project Structure
- Backend: Node.js, Express, Mongoose
  - `server/src/server.js`: app bootstrap, middleware, route mounting, Mongo connection.
  - `server/src/routes/feedback.js`: POST/GET handlers.
  - `server/src/models/Feedback.js`: Mongoose schema and model.
- Frontend: React + TypeScript + MUI
  - `src/components/FeedbackForm.tsx`: client-side validation and submit.
  - `src/components/AdminPanel.tsx`: pagination UI; fetches list.
  - `src/components/AdminLogin.tsx`: simple client-side login gate (UI-level only).
  - `src/lib/api.ts`: `apiGet`, `apiPost` helpers.

### Runtime Architecture
- Client (Vite + React) calls REST endpoints on the Express server.
- Server uses `cors` and `express.json()` to accept requests from the frontend.
- MongoDB stores feedback documents via Mongoose.


## Challenges Faced and Solutions Implemented
- **Input Validation and Data Cleaning**
  - Challenge: Ensuring only well-formed feedback is saved.
  - Solution: Backend validates presence of all fields and trims strings; rating is coerced to a bounded number. Mongoose adds a second layer with required fields and min/max.

- **Pagination for Admin Listing**
  - Challenge: Efficiently browsing potentially large feedback sets.
  - Solution: Server accepts `page` and `limit`, calculates `skip`, sorts by `createdAt desc`, and returns `{ data, total, page, limit }`. Frontend binds Material UI pagination controls to these values.

- **Error Handling and UX Feedback**
  - Challenge: Communicating failures clearly to users.
  - Solution: Standardized 400 for validation issues and 500 for server errors; frontend displays success/error alerts and loading spinners.

- **Cross-Origin Requests (CORS) and JSON Parsing**
  - Challenge: Local dev across ports.
  - Solution: Enabled `cors()` and `express.json()` globally.

- **Configuration and Local Development**
  - Challenge: Reliable local setup without surprises.
  - Solution: Sensible defaults with environment overrides:
    - `PORT` defaults to `4000`
    - `MONGODB_URI` defaults to `mongodb://127.0.0.1:27017/feedback_app`


## Setup & Run

### Backend
1. `cd project/server`
2. `npm install`
3. `npm run dev`

```PORT=4000
MONGODB_URI=mongodb://127.0.0.1:27017/feedback_app
```

4. `npm run dev`

### Frontend
1. `cd project`
2. `npm install`
3. `npm run dev`


